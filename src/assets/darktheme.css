/* ========== 深色主题（现代全适配版） ========== */
.dark-theme {
    /* 基础色板 */
    --primary-color: #80CBC4;
    --primary-hover: #A7E0DB;
    --surface-color: #2D2F36;
    --background-color: #1A1C23;
    --divider-color: #40464F;
    --text-primary: #E0E6F0;
    --text-secondary: #9CA8B8;
    --shadow-1: 0 2px 6px rgba(0, 0, 0, 0.4);
    --shadow-2: 0 4px 12px rgba(0, 0, 0, 0.45);
    --shadow-3: 0 8px 16px rgba(0, 0, 0, 0.5);
    --accent-1: #4DB6AC;
    --accent-2: #546E7A;
}

/* 全局适配 */
.dark-theme body {
    background: var(--background-color);
    color: var(--text-primary);
}

/* 头部 */
.dark-theme header {
    background: var(--accent-1);
    border-color: rgba(255, 255, 255, 0.08);
    color: #1A1C23;
}

/* 文件上传区域 */
.dark-theme .file-upload {
    --border-color: var(--divider-color);
    --highlight-color: var(--accent-1);
    --info-bg: rgba(77, 182, 172, 0.08);
    background: var(--surface-color);
    border: 1.5px dashed var(--border-color);
    --border-color: #79747E;
}

.dark-theme .file-upload:hover {
    background: rgba(77, 182, 172, 0.05);
}

.dark-theme .highlight {
    color: var(--accent-1);
}

/* 输入系统 */
.dark-theme #sjurl {
    background: rgba(26, 28, 35, 0.9);
    border-color: var(--divider-color);
    color: var(--text-primary);
}

.dark-theme #sjurl:focus {
    border-color: var(--accent-2);
}

/* 开关组件 */
.dark-theme .chunk-toggle {
    --active-color: var(--accent-1);
    --border-color: var(--divider-color);
    --hover-bg: rgba(77, 182, 172, 0.1);
    color: var(--text-primary);
}

.dark-theme .custom-checkbox {
    border-color: var(--divider-color);
}

/* 按钮系统 */
.dark-theme button {
    background: var(--accent-1);
    border-color: rgba(128, 203, 196, 0.3);
    color: #1A1C23;
}

.dark-theme button:hover {
    background: var(--primary-hover);
    box-shadow: var(--shadow-2); /* 同步浅色主题的阴影层级 */
    color: #1A1C23;
}

/* 表格系统 */
.dark-theme #uploadHistory .table-container {
    overflow: auto;
}

.dark-theme .upload-history-table {
    border-color: var(--accent-2);
    box-shadow: var(--shadow-1); /* 同步深色阴影 */
}
.dark-theme .upload-history-table th {
    background: rgba(64, 70, 79, 0.6);
    color: var(--text-secondary);
}
.dark-theme .upload-history-table td {
    background: rgba(26, 28, 35, 0.9);
    color: var(--text-primary);
}

.dark-theme .upload-history-table tr:hover td {
    background: rgba(77, 182, 172, 0.05) !important; /* 覆盖原主题的浅色悬停 */
}

.dark-theme .link-cell {
    color: var(--accent-1) !important;
}

/* 调试面板 */
.dark-theme .debug-output {
    background: rgba(26, 28, 35, 0.9);
    border-color: var(--accent-2);
    box-shadow: var(--shadow-1);
}

.dark-theme .debug-output pre {
    color: var(--text-primary);
}

/* 页脚 */
.dark-theme footer {
    background: var(--surface-color);
}

.dark-theme footer a {
    color: var(--accent-1);
}

.dark-theme footer a:hover {
    background: rgba(77, 182, 172, 0.1);
}

/* 辅助元素 */
.dark-theme .chunk-info {
    background: rgba(64, 70, 79, 0.3);
    color: var(--text-secondary);
}

/* 阴影增强 */
.dark-theme header,
.dark-theme main,
.dark-theme .file-upload,
.dark-theme footer {
    box-shadow: var(--shadow-2);
}

/* 替换原 * 选择器 */
.dark-theme {
    transition: background-color 0.3s var(--ease-standard),
        color 0.3s var(--ease-standard);
}

.dark-theme header,
.dark-theme main,
.dark-theme .file-upload,
.dark-theme footer,
.dark-theme button {
    transition:
        background-color 0.3s var(--ease-standard),
        color 0.3s var(--ease-standard),
        border-color 0.3s var(--ease-standard),
        box-shadow 0.3s var(--ease-standard);
}